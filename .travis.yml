language: java
matrix:
  include:
  - os: linux
    jdk: oraclejdk7
  - os: osx
    osx_image: xcode8.3
script: ./gradlew build publishGhPages --stacktrace
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
- rm -fr $HOME/.gradle/caches/*/scripts/
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
env:
  global:
    secure: mh1kM+rcWUlhT9cDeEa5gz79ZwOYVviA/fabEqhzXZ1GqgTnero1dO7oY3ekZjpOY0hqxrpebuPLpN7V5Uwd76rqBgtRaQ0EDP/l1t7ZAybw8GNJ+tgEvzU+24eFBdouJ0CMad79UUGLJxTwxDOE9JISWFnXQ6E6C2yHrCqaJG+lusKKQt+L5FsjB05t9jiel7ZAJuVnC9QlDs8QIsSR7rHpGxz8UQE0cT6Yuf1lLry5gOTDpnC7wkSVKR80a+NyItgIYKbJdvca6fGkWLwbYpoKr7s8cz+ODTi38YXo9AKHuL9APXSL3Ab59AMfnsVBglhgl6x0JJLdf1OrIxLDiPr5p37SpaiHrhPkoeSXOjv3swThV5BCx22QS0gWtDl9ohsykZqSQ0veq0M1opfX5DX4TZtwQMVk+2tHBndJsCCs1mc9Zb0fpeGP5EYLVJ1PCxlhacCyVa5mwmhfrlTCdxsRtuiUS/awOtz+VeqlF8b5XmtUReshhdvd1w9Nl9uOxcO6g6RJPcTaY51M0415vjHRG+EJlP0gM6k3vwOw9XbQRtqK5DYwFIdFirSeZ+e+jYzbJp3bgX0k295jIZ4tbgMs0WL1UE2XI+KAwR47G24fS4m2SXM1rnSzbTDWY6HZnADGoaYcRRztQLxjQhFKo6roCwYrdc+nwedjTAboiLM=
notifications:
  slack:
    on_success: always
    on_failure: always
    rooms:
      secure: 1pJzgkUfiSP/KX5TuAsAgKhFtaVcfVWwdK+rbHMpzX0herxB4aAtVh3V1EnkiOgPkCcehviLC5MsEDxgwMsLt7Ko7RQsZLd42w8dxv+cxQad4f3LPlej6G2QJMjO0+JeDDC++lBcYsj932buT7XqZQ37QYGuM2GOp3bOqwhZ0mpHgyQ/pWw+m0upiJL1Z/snjt6tLsQejUKFkl71omDleB/JPmgSDgXWIBBtPkR+J4ScH9cSXWgtuks30kk/BcI6NOGNDkieJb32K8xDxE8VlK7OY2TNGAEzHD4tFBHQMDLeWQvkc7tPWq9D4GZ2YyJpeq+wnKqu2xZOTkqq6hCDAHhaEGj8CPztHCsg1BdSc6Sq7yJxA8JDvWzh8v8nqRkhiIRPwAjX83DEJYvsA32ytQmibfBq2TEQMhiIDPp5H4YixdGqLxPCXFqR5H+JOwARllYCoMTbSxJimnfLdCFyFhXiX3LTne8GPJnoJx7nsizLSdJ4Ww8XdYmMAHP2QDBQFTdsJpHorm1/FCdqBXdcXNiY6vqRnGHzmiun+3cQEmHfwsiZ3pd4DFgaNjnjxc0zoW+0Qci7ybVtxG5xdFOg8jA/NvnDiEzdg20evNJk1WDboEuHg6eFjVJsjYhElQAcmZEgMjn24Ve/jAqxwcrcGIh5F6p3vmQWeBlgAdptbWU=
